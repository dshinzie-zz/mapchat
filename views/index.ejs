<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <% include shared/navbar %>

    <div id="scroll-animate">
      <div id="scroll-animate-main">
        <div class="wrapper-parallax">
          <header class="home-header">
            <h1>Hi <%= global.fullName %></h3>
            <h2>Welcome to MapChat</h2>
          </header>

          <section class="content home-header">
            <h1>Content</h1>
          </section>

          <footer>
            <h1>Footer</h1>
          </footer>
        </div>
      </div>
    </div>

  </body>
</html>

<script>
  function scrollFooter(scrollY, heightFooter){
    if(scrollY >= heightFooter){
      $('footer').css({
        'bottom' : '0px'
      });
      } else {
        $('footer').css({
          'bottom' : '-' + heightFooter + 'px'
        });
      }
    }

  $(window).on('load', function(){
    var windowHeight = $(window).height(),
        footerHeight = $('footer').height(),
        heightDocument = (windowHeight) + ($('.content').height()) + ($('footer').height()) - 20;

    $('#scroll-animate, #scroll-animate-main').css({
      'height' :  heightDocument + 'px'
      });

    $('header').css({
      'height' : windowHeight + 'px',
      'line-height' : windowHeight + 'px'
      });

    $('.wrapper-parallax').css({
      'margin-top' : windowHeight + 'px'
      });

    scrollFooter(window.scrollY, footerHeight);

    window.onscroll = function(){
        var scroll = window.scrollY;

        $('#scroll-animate-main').css({
            'top' : '-' + scroll + 'px'
        });

        $('header').css({
            'background-position-y' : 50 - (scroll * 100 / heightDocument) + '%'
        });

        scrollFooter(scroll, footerHeight);
    }
  });
</script>
